# Building Quartz

```
apt install build-essential cmake
apt install pybind11-dev python3-z3
# beware if you're z3py installing via pip, you need "z3-solver", not "z3" -- that's something else!

mkdir build
cd build
cmake ..
make gen_ecc_set
make bench_quartz
```

It's a bit hard to tell what source was used to do the optimization for the benchmark -- in this case it seems [`src/test/test_nam.cpp`](from-spire-paper-artifact/test_nam.cpp) was modified to use as the basis. It also appears pybind was removed from the `CMakeLists.txt`.

It looks like the API to Quartz has drifted, so it will be necessary to update the source.

You will need these other data files -- per the paper:

> Both Quartz and QUESO require a rule file and associated
> command-line arguments to be provided to the optimizer... For
> Quartz, we used the provided gen_ecc_set tool to generate the
> rule file 3_2_5_complete_ECC_set.json, which we then provided
> to the optimizer using the --eqset flag. ...

[H_CZ_2_2_complete_ECC_set_modified.json](from-spire-paper-artifact/H_CZ_2_2_complete_ECC_set_modified.json)

[3_2_5_complete_ECC_set.json](from-spire-paper-artifact/3_2_5_complete_ECC_set.json)

I believe these files are generated by `gen_ecc_set` but I haven't got that far yet (there should be brief instructions in the Spire paper).
